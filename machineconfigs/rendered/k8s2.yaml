# Indicates the schema used to decode the contents.
version: v1alpha1
# Enable verbose logging to the console.
debug: false
# description: |
persist: true
# Provides machine specific configuration options.
machine:
  # Defines the role of the machine within the cluster.
  type: controlplane
  # The `token` is used by a machine to join the PKI of the cluster.
  token: ENC[AES256_GCM,data:9guVdDqpSFZzuc6mn1rcCpAJQ0hiSbo=,iv:A20s/BuveoChYvMphp6ql4sfBv9m2kl+1anEmtkn1t8=,tag:vJd8VheMsgVKLE9KLcncKw==,type:str]
  # The root certificate authority of the PKI.
  ca:
    crt: ENC[AES256_GCM,data:cisfvyGTwfa1pDZ25+ji6z8NqOfDBBPrc/oJ1BDCN4W9Ups7rV0VYnsTVDH9Q8nDvkYzt3cOKy7A0FmGKkeykHXOgAmwh4/iYusRzp2ybiyyNrGlYCULHDpPPMzO34UtXZzFtcrk5C0oW1/D++z0Q9OpSJVHW0AytXKeMO1SS5xw5r21M1j5I+M2do7mSBly0YmQsz6A1turj4SUwdA2jomqsnr1b2xsP0CccIgx1NlxMZghS3gW2T+D4naeYPkBcx7jtmT6LHFG76EwKDoFPM4FW5/a3GMQPziRpCeH6ZKLYD624Wz69s+ABTksF8GwNO5ombKteguQgmw8+EFpCjVopaMaY1kx95en15IjoFGGrTQYw+5+RhvrHNT8a9twKhGD4vjlfubtDS9ZA1X/aTGTSI4wvcnkR13Ngg5XTog9Zj8I1z1x7URcAJBzw1/zwl9cjg7RAr3AGAvccHgEZskarJkEb46QmoI46lBoyRPDK3Nb6Fxsd+00VK/oLw83VBsG+s07+l6Xl2sEeT2m+O2cGcRdfQLcoPvmxJjdx13ZFCpJbr/nZL0arlBYA/FtbSgqdYZct0in5YxyqayHERlVqg89g0NdrmtppGydnK2+trwt/JVc3VktaR7HxEU5wTVS4QNHYNS8ewjxjbjFbt/BHf5mlJeoWneNRTsd7LuVbbMgSKnIaCnkOHen9FM8N2jnRM6B8bB1XytGPmJqvNPA6wEd1eQsKbCARDLQNqjeAp2CXq2K/WxRnxpmiQjHIcQl0/AnELeXX3pfb99MoeSx+27P2na3E78ftnCbEUIVsQJ3iWz525LwD3I0PSTmeRPe6lv/dvuotQISddzOQAhRjHvJWRhSpUwFaO4ol3rVdnaY,iv:xQCwohSgn+yXK0oEnJlk3YBMCMNpsylLvnnQW+xaKbE=,tag:6XWChs1vH6XnvrxnBUQ87g==,type:str]
    key: ENC[AES256_GCM,data:N1W7BvRfN021IrvYSWE48nEuBuafxrNz3Q0gGtf3NaA5dOABtXCFkUn8BuZ5mZCcvJevixrP+TWczhvEiGUDBEUO3TQVg2wcf9tG/51DUiwMnI9fd++RRqccyFuVI7vffm0X5zfi+UeAdbP/ZZRxORK3yaC4nOu+BJ0nNF+TzjzPJzLrGUgWghYikjmuyIdPhjSVgHxXPRvsIKghl08qqvUOJ0OxCi9RkCVhlsjoXZ7ykrTI,iv:hLgKa0SOj3BMi7PKFPjeR5q3hoOGsbu6d4hESdGaKmw=,tag:2M3alqUivlmrEJB6HBJXTQ==,type:str]
  # Extra certificate subject alternative names for the machine's certificate.
  certSANs: []
  #   # Uncomment this to enable SANs.
  #   - 10.0.0.10
  #   - 172.16.0.10
  #   - 192.168.0.10
  # Used to provide additional options to the kubelet.
  kubelet:
    # The `image` field is an optional reference to an alternative kubelet image.
    image: ghcr.io/siderolabs/kubelet:v1.28.1
    # Enable container runtime default Seccomp profile.
    defaultRuntimeSeccompProfileEnabled: true
    # The `disableManifestsDirectory` field configures the kubelet to get static pod manifests from the /etc/kubernetes/manifests directory.
    disableManifestsDirectory: true
    # # The `ClusterDNS` field is an optional reference to an alternative kubelet clusterDNS ip list.
    # clusterDNS:
    #     - 10.96.0.10
    #     - 169.254.2.53
    # # The `extraArgs` field is used to provide additional flags to the kubelet.
    # extraArgs:
    #     key: value
    # # The `extraMounts` field is used to add additional mounts to the kubelet container.
    # extraMounts:
    #     - destination: /var/lib/example
    #       type: bind
    #       source: /var/lib/example
    #       options:
    #         - bind
    #         - rshared
    #         - rw
    # # The `extraConfig` field is used to provide kubelet configuration overrides.
    # extraConfig:
    #     serverTLSBootstrap: true
    # # The `nodeIP` field is used to configure `--node-ip` flag for the kubelet.
    # nodeIP:
    #     # The `validSubnets` field configures the networks to pick kubelet node IP from.
    #     validSubnets:
    #         - 10.0.0.0/8
    #         - '!10.0.0.3/32'
    #         - fdc7::/16
  # Provides machine specific network configuration options.
  network:
    # Used to statically set the hostname for the machine.
    hostname: ENC[AES256_GCM,data:YYFrKg==,iv:ej3e1kBloLvlzilQZXPYR/zL+A7txVDB5gpBH0yV4og=,tag:u91WYjLyw0jhkeNPUtVSWg==,type:str]
    # `interfaces` is used to define the network interface configuration.
    interfaces:
      # The interface name.
      - interface: eno4
        # VLAN specific options.
        vlans:
          # The addresses in CIDR notation or as plain IPs to use.
          - addresses:
              - ENC[AES256_GCM,data:6wQ8bLSQs+mDm29JkCtV1C0=,iv:AHu9Bb0L3xpShR0p/q6L797mqBA5Ktakj0qQcFyZwW8=,tag:gSRKGLuTxdu51fS3PgFtmA==,type:str]
            # A list of routes associated with the VLAN.
            routes:
              # The route's network (destination).
              - network: 0.0.0.0/0
                # The route's gateway (if empty, creates link scope route).
                gateway: ENC[AES256_GCM,data:AcUtsNy7nPmiAYKPobA=,iv:DfDIkGG1D4wVNtC0NcBxt4z1vIpjmWkyeucGz9lK3Co=,tag:WYv5wrEsfi6AtvWvJxfgnw==,type:str]
            # The VLAN's ID.
            vlanId: 4000
            # # The VLAN's virtual IP address configuration.
            # # layer2 vip example
            # vip:
            #     ip: 172.16.199.55 # Specifies the IP address to be used.
            # # DHCP specific options.
            # dhcpOptions:
            #     routeMetric: 1024 # The priority of all routes received via DHCP.
        # Indicates if DHCP should be used to configure the interface.
        dhcp: false
        # # Picks a network device using the selector.
        # # select a device with bus prefix 00:*.
        # deviceSelector:
        #     busPath: 00:* # PCI, USB bus prefix, supports matching by wildcard.
        # # select a device with mac address matching `*:f0:ab` and `virtio` kernel driver.
        # deviceSelector:
        #     hardwareAddr: '*:f0:ab' # Device hardware address, supports matching by wildcard.
        #     driver: virtio # Kernel driver, supports matching by wildcard.
        # # select a device with bus prefix 00:*, a device with mac address matching `*:f0:ab` and `virtio` kernel driver.
        # deviceSelector:
        #     - busPath: 00:* # PCI, USB bus prefix, supports matching by wildcard.
        #     - hardwareAddr: '*:f0:ab' # Device hardware address, supports matching by wildcard.
        #       driver: virtio # Kernel driver, supports matching by wildcard.
        # # Assigns static IP addresses to the interface.
        # addresses:
        #     - 10.5.0.0/16
        #     - 192.168.3.7
        # # A list of routes associated with the interface.
        # routes:
        #     - network: 0.0.0.0/0 # The route's network (destination).
        #       gateway: 10.5.0.1 # The route's gateway (if empty, creates link scope route).
        #     - network: 10.2.0.0/16 # The route's network (destination).
        #       gateway: 10.2.0.1 # The route's gateway (if empty, creates link scope route).
        # # Bond specific options.
        # bond:
        #     # The interfaces that make up the bond.
        #     interfaces:
        #         - enp2s0
        #         - enp2s1
        #     # Picks a network device using the selector.
        #     deviceSelectors:
        #         - busPath: 00:* # PCI, USB bus prefix, supports matching by wildcard.
        #         - hardwareAddr: '*:f0:ab' # Device hardware address, supports matching by wildcard.
        #           driver: virtio # Kernel driver, supports matching by wildcard.
        #     mode: 802.3ad # A bond option.
        #     lacpRate: fast # A bond option.
        # # Bridge specific options.
        # bridge:
        #     # The interfaces that make up the bridge.
        #     interfaces:
        #         - enxda4042ca9a51
        #         - enxae2a6774c259
        #     # A bridge option.
        #     stp:
        #         enabled: true # Whether Spanning Tree Protocol (STP) is enabled.
        # # DHCP specific options.
        # dhcpOptions:
        #     routeMetric: 1024 # The priority of all routes received via DHCP.
        # # Wireguard specific configuration.
        # # wireguard server example
        # wireguard:
        #     privateKey: ABCDEF... # Specifies a private key configuration (base64 encoded).
        #     listenPort: 51111 # Specifies a device's listening port.
        #     # Specifies a list of peer configurations to apply to a device.
        #     peers:
        #         - publicKey: ABCDEF... # Specifies the public key of this peer.
        #           endpoint: 192.168.1.3 # Specifies the endpoint of this peer entry.
        #           # AllowedIPs specifies a list of allowed IP addresses in CIDR notation for this peer.
        #           allowedIPs:
        #             - 192.168.1.0/24
        # # wireguard peer example
        # wireguard:
        #     privateKey: ABCDEF... # Specifies a private key configuration (base64 encoded).
        #     # Specifies a list of peer configurations to apply to a device.
        #     peers:
        #         - publicKey: ABCDEF... # Specifies the public key of this peer.
        #           endpoint: 192.168.1.2:51822 # Specifies the endpoint of this peer entry.
        #           persistentKeepaliveInterval: 10s # Specifies the persistent keepalive interval for this peer.
        #           # AllowedIPs specifies a list of allowed IP addresses in CIDR notation for this peer.
        #           allowedIPs:
        #             - 192.168.1.0/24
        # # Virtual (shared) IP address configuration.
        # # layer2 vip example
        # vip:
        #     ip: 172.16.199.55 # Specifies the IP address to be used.
    # Used to statically set the nameservers for the machine.
    nameservers:
      - 1.1.1.1
      - 8.8.8.8
      - 1.0.0.1
      - 8.8.4.4
      # # Allows for extra entries to be added to the `/etc/hosts` file
      # extraHostEntries:
      #     - ip: 192.168.1.100 # The IP of the host.
      #       # The host alias.
      #       aliases:
      #         - example
      #         - example.domain.tld
      # # Configures KubeSpan feature.
      # kubespan:
      #     enabled: true # Enable the KubeSpan feature.
  # Used to provide instructions for installations.
  install:
    # The disk used for installations.
    disk: none
    # Look up disk using disk attributes like model, size, serial and others.
    diskSelector:
      # Disk model `/sys/block/<dev>/device/model`.
      model: INTEL SSD*
      # # Disk size.
      # # Select a disk which size is equal to 4GB.
      # size: 4GB
      # # Select a disk which size is greater than 1TB.
      # size: '> 1TB'
      # # Select a disk which size is less or equal than 2TB.
      # size: <= 2TB
      # # Disk bus path.
      # busPath: /pci0000:00/0000:00:17.0/ata1/host0/target0:0:0/0:0:0:0
      # busPath: /pci0000:00/*
    # Allows for supplying the image used to perform the installation.
    image: ghcr.io/siderolabs/installer:v1.5.0
    # Indicates if the installation disk should be wiped at installation time.
    wipe: true
    # # Allows for supplying extra kernel args via the bootloader.
    # extraKernelArgs:
    #     - talos.platform=metal
    #     - reboot=k
    # # Allows for supplying additional system extension images to install on top of base Talos image.
    # extensions:
    #     - image: ghcr.io/siderolabs/gvisor:20220117.0-v1.0.0 # System extension image.
  # Used to configure the machine's container image registry mirrors.
  registries: {}
  # # Specifies mirror configuration for each registry host namespace.
  # mirrors:
  #     ghcr.io:
  #         # List of endpoints (URLs) for registry mirrors to use.
  #         endpoints:
  #             - https://registry.insecure
  #             - https://ghcr.io/v2/
  # # Specifies TLS & auth configuration for HTTPS image registries.
  # config:
  #     registry.insecure:
  #         # The TLS configuration for the registry.
  #         tls:
  #             insecureSkipVerify: true # Skip TLS server certificate verification (not recommended).
  #
  #             # # Enable mutual TLS authentication with the registry.
  #             # clientIdentity:
  #             #     crt: LS0tIEVYQU1QTEUgQ0VSVElGSUNBVEUgLS0t
  #             #     key: LS0tIEVYQU1QTEUgS0VZIC0tLQ==
  #
  #         # # The auth configuration for this registry.
  #         # auth:
  #         #     username: username # Optional registry authentication.
  #         #     password: password # Optional registry authentication.
  # Features describe individual Talos features that can be switched on or off.
  features:
    # Enable role-based access control (RBAC).
    rbac: true
    # Enable stable default hostname.
    stableHostname: true
    # Enable checks for extended key usage of client certificates in apid.
    apidCheckExtKeyUsage: true
    # Enable XFS project quota support for EPHEMERAL partition and user disks.
    diskQuotaSupport: true
    # # Configure Talos API access from Kubernetes pods.
    # kubernetesTalosAPIAccess:
    #     enabled: true # Enable Talos API access from Kubernetes pods.
    #     # The list of Talos API roles which can be granted for access from Kubernetes pods.
    #     allowedRoles:
    #         - os:reader
    #     # The list of Kubernetes namespaces Talos API access is available from.
    #     allowedKubernetesNamespaces:
    #         - kube-system
# Provides cluster specific configuration options.
cluster:
  # # Provides machine specific control plane configuration options.
  # # ControlPlane definition example.
  # controlPlane:
  #     # Controller manager machine specific configuration options.
  #     controllerManager:
  #         disabled: false # Disable kube-controller-manager on the node.
  #     # Scheduler machine specific configuration options.
  #     scheduler:
  #         disabled: true # Disable kube-scheduler on the node.
  # # Used to provide static pod definitions to be run by the kubelet directly bypassing the kube-apiserver.
  # # nginx static pod.
  # pods:
  #     - apiVersion: v1
  #       kind: pod
  #       metadata:
  #         name: nginx
  #       spec:
  #         containers:
  #             - image: nginx
  #               name: nginx
  # # Used to partition, format and mount additional disks.
  # # MachineDisks list example.
  # disks:
  #     - device: /dev/sdb # The name of the disk to use.
  #       # A list of partitions to create on the disk.
  #       partitions:
  #         - mountpoint: /var/mnt/extra # Where to mount the partition.
  #
  #           # # The size of partition: either bytes or human readable representation. If `size:` is omitted, the partition is sized to occupy the full disk.
  #           # # Human readable representation.
  #           # size: 100 MB
  #           # # Precise value in bytes.
  #           # size: 1073741824
  # # Allows the addition of user specified files.
  # # MachineFiles usage example.
  # files:
  #     - content: '...' # The contents of the file.
  #       permissions: 0o666 # The file's permissions in octal.
  #       path: /tmp/file.txt # The path of the file.
  #       op: append # The operation to use
  # # The `env` field allows for the addition of environment variables.
  # # Environment variables definition examples.
  # env:
  #     GRPC_GO_LOG_SEVERITY_LEVEL: info
  #     GRPC_GO_LOG_VERBOSITY_LEVEL: "99"
  #     https_proxy: http://SERVER:PORT/
  # env:
  #     GRPC_GO_LOG_SEVERITY_LEVEL: error
  #     https_proxy: https://USERNAME:PASSWORD@SERVER:PORT/
  # env:
  #     https_proxy: http://DOMAIN\USERNAME:PASSWORD@SERVER:PORT/
  # # Used to configure the machine's time settings.
  # # Example configuration for cloudflare ntp server.
  # time:
  #     disabled: false # Indicates if the time service is disabled for the machine.
  #     # Specifies time (NTP) servers to use for setting the system time.
  #     servers:
  #         - time.cloudflare.com
  #     bootTimeout: 2m0s # Specifies the timeout when the node time is considered to be in sync unlocking the boot sequence.
  # # Used to configure the machine's sysctls.
  # # MachineSysctls usage example.
  # sysctls:
  #     kernel.domainname: talos.dev
  #     net.ipv4.ip_forward: "0"
  # # Used to configure the machine's sysfs.
  # # MachineSysfs usage example.
  # sysfs:
  #     devices.system.cpu.cpu0.cpufreq.scaling_governor: performance
  # # Machine system disk encryption configuration.
  # systemDiskEncryption:
  #     # Ephemeral partition encryption.
  #     ephemeral:
  #         provider: luks2 # Encryption provider to use for the encryption.
  #         # Defines the encryption keys generation and storage method.
  #         keys:
  #             - # Deterministically generated key from the node UUID and PartitionLabel.
  #               nodeID: {}
  #               slot: 0 # Key slot number for LUKS2 encryption.
  #
  #               # # KMS managed encryption key.
  #               # kms:
  #               #     endpoint: https://192.168.88.21:4443 # KMS endpoint to Seal/Unseal the key.
  #
  #         # # Cipher kind to use for the encryption. Depends on the encryption provider.
  #         # cipher: aes-xts-plain64
  #         # # Defines the encryption sector size.
  #         # blockSize: 4096
  #         # # Additional --perf parameters for the LUKS2 encryption.
  #         # options:
  #         #     - no_read_workqueue
  #         #     - no_write_workqueue
  # # Configures the udev system.
  # udev:
  #     # List of udev rules to apply to the udev system
  #     rules:
  #         - SUBSYSTEM=="drm", KERNEL=="renderD*", GROUP="44", MODE="0660"
  # # Configures the logging system.
  # logging:
  #     # Logging destination.
  #     destinations:
  #         - endpoint: tcp://1.2.3.4:12345 # Where to send logs. Supported protocols are "tcp" and "udp".
  #           format: json_lines # Logs format.
  # # Configures the kernel.
  # kernel:
  #     # Kernel modules to load.
  #     modules:
  #         - name: brtfs # Module name.
  # # Configures the seccomp profiles for the machine.
  # seccompProfiles:
  #     - name: audit.json # The `name` field is used to provide the file name of the seccomp profile.
  #       # The `value` field is used to provide the seccomp profile.
  #       value:
  #         defaultAction: SCMP_ACT_LOG
  # # Configures the node labels for the machine.
  # # node labels example.
  # nodeLabels:
  #     exampleLabel: exampleLabelValue
  # Globally unique identifier for this cluster (base64 encoded random 32 bytes).
  id: ENC[AES256_GCM,data:979M2XuWvGub2VQJWgE2Rsk73ZknSwAdJs7meENpQ1NIW/opj0aNQsF4WsE=,iv:eoJSJs0Zr0dYrATv1zhxbftAyUdg9miTO3fNr6MV9mw=,tag:vXF7hSnS+uNwMUoi8d5xAA==,type:str]
  # Shared secret of cluster (base64 encoded random 32 bytes).
  secret: ENC[AES256_GCM,data:6/9Vdbg/F/EGf4MdTQSeNWii6zROmT6chiJ0un1DHFq9cKVnrSf6qgNWwBU=,iv:KNBOYS56hLLx2zDHAGPRreom57uM5OHA8NU2HmErHQA=,tag:4BobkFZY2Qb2likjONAdLA==,type:str]
  # Provides control plane specific configuration options.
  controlPlane:
    # Endpoint is the canonical controlplane endpoint, which can be an IP address or a DNS hostname.
    endpoint: ENC[AES256_GCM,data:658nfUuherw2xrbINKoUTNApo6prqQhuwsQA8wadO+AUcw==,iv:YXL4+yilWfo42nG7GMhCYIqqwUgma0NrbhMDfzacLo4=,tag:oJXt5Bhbdaqz08mlEfZIPg==,type:str]
  # Configures the cluster's name.
  clusterName: ENC[AES256_GCM,data:nLqW24Ixw+ofjfIR19sjb1E=,iv:rTXBuF3RSZY+QpzawHo9jLFVAKW2wP3ZDnH+AhRBdHo=,tag:DMDzc8+Wkh58Y5CCkmqNwg==,type:str]
  # Provides cluster specific network configuration options.
  network:
    # The CNI used.
    cni:
      # Name of CNI to use.
      name: none
    # The domain used by Kubernetes DNS.
    dnsDomain: ENC[AES256_GCM,data:SUhurQG6G7Yz7xonNhnOXOuDBrpDS3A=,iv:uA5+q4RAJK/VPF8aptSfPh1+/eoWKGLJ3BwK9cHR3Gg=,tag:K2MM4LydSy3AuF6nIweZCA==,type:str]
    # The pod subnet CIDR.
    podSubnets:
      - 10.244.0.0/16
    # The service subnet CIDR.
    serviceSubnets:
      - 10.96.0.0/12
  # The [bootstrap token](https://kubernetes.io/docs/reference/access-authn-authz/bootstrap-tokens/) used to join the cluster.
  token: ENC[AES256_GCM,data:RERVEB9zCgBQTj9CtZ6tjUTr49AfczM=,iv:iKVULz2TdxbiesU0JxFN4Q76vQdc/4FGKC13HJbPAEA=,tag:qKbhK2D8xSYDF8MAWugDSw==,type:str]
  # A key used for the [encryption of secret data at rest](https://kubernetes.io/docs/tasks/administer-cluster/encrypt-data/).
  secretboxEncryptionSecret: ENC[AES256_GCM,data:n1uvV+3GauGxuZY2XoG9ckvBdlr2XACvRA5z76ggNuD8fId7FWPDkjdMFK8=,iv:kbcU3ImAXzWFCOmx3BNpjp+z3ggs1Y8ug/glpcHHNo0=,tag:yZW9Z9RVxwcaPwfBPOcwfQ==,type:str]
  # The base64 encoded root certificate authority used by Kubernetes.
  ca:
    crt: ENC[AES256_GCM,data:ug/UhvxvMr/i4sWA+oEJ0/1J3hYVqvpsXuai5kTdXdurQyFyWz8VpzcusM2+d+8NSkqVXZVAHjVwh8kC93BgTW/KXHWtPo5/AK6F+c2/XB3s0xYzEtQr0IR6KNGp87WXLzfKLTKYZg+wL344G8Ug2TWlKLKDtVpM99ZT/FsiyFheT5Pyj2BRaYW5WMuyYCmVrDrEYaiKmQt6vEzLVv0lnjKNKC3TdF5uapQ1XHRtGkMGl0bZAl/GN2T0/6AFM2qVeBIYaVrtYclbMdm6ywVrkYh9j8wP06ZS61Jo3ZlqP/5+VooQ/E2nenx3HA9BDPV95xVKo7HPHbk6/rjTwK1CTkNP+gQJ//AED2EIUUJyH74kV/t0UsEq7sN+v/oK68GCySzZcNI8QH1UMFhaOQhC8tWpkwcJA1V1WZ99PDkyBxihta5bAbcBmiJe0GapKkXy+jw8cv8DSln8RBt0uzdpzSFIBERyDAsDxJ+5sanUApTqHUTzNlwu7LxU0iYfD9KD9dv2Ruh5VVpmHTmLc/dDUmAfBcaDzN+TqQ+z0/c1tekzoAy69oTjUo7weMS8vQZDd7p1c3La8iMDV88QBmKaz1dV4FH1mv1eEmwxV5vXph0+JQ8OIISrpUZwVzRlrcB0/w1fWX/DLyzfVNmT5nWZjbady3KGD6UxFrUKudqSA6JEB9oTtBcuNnxvn8yND4KMC9WFeg1HV2FAhXaTXIT7WyBxOsyXIQ954II/i51TzjzletEXZ9kG5NPUsDOU4xltIGwatnzXPp3d7lpA9cQNeqAT5IFkzaPqTJImY5Twqm4Pw8EcOjIFUOhYHEFZR2VpiZcEiUbslT1elojjNWbIiYZaScxiNmJ5lW/GM4G2YX7/HLXRZnep4s7ceJ4+GrXHIr4xPRDoIkpT3EYidJql/qv11yn4/PVmxoLHMl7VUUhcsmwoSJxVFASSmqvYcaGvQOMPhgB5k9R4mhCEYZTflpK+D8CnSs/A4AsMGe7lo7mztTZS3PI4xQqYOs6rCadgssq/fNBNDKS2H9jJoGrkiMV/eUoF98WUYpv0XQ==,iv:dQWiJpnJTkE1zzrK7I2UTjWothGOkaVxVJoI3iBTidI=,tag:NXzoiKui+tTIt+BOlTOHMQ==,type:str]
    key: ENC[AES256_GCM,data:3i7DfDbqL1NSgmYpAFkxoKtku+APmuMY2Jo7Nrvx9WesUSHAwqV2DXHa4irjM2qwU4/YLoX/22xrnqsu+uXBgOsuWv3TPsqA1PPP2cWjQaMNwPQkitLsUzF9O5ovnr+j/xgrIHYf719JXA6RU+vNVKKxd/aUILPqs8QHjk3R4A8rCwjkhSm6Ne2vrHwFKj/jj1hT6ZWuJjzQzqkRAltmfsX6fmHl6D/+Zshc0X6ClBCF/zVAa1efucep95pAGdJrPH8cp0lTClVxz69P+OxjNqOTDfL3/9uoUeSgHEsCTI4GH3Lcw9Dr7smeIjCI80GjxIg1KQmC8BugYbxpeXVrqDo1JBqBe3B6r2InuLk10r103hvVNMggByGW46e2jis54TsKSV8DHtZx3YXgJlU1fA==,iv:PMuD6h93r2r8Byqtq00koUkHAEopIbmf2/LqgWeDhQs=,tag:w8/tcSaVdseFFwbjUpUBdw==,type:str]
  # The base64 encoded aggregator certificate authority used by Kubernetes for front-proxy certificate generation.
  aggregatorCA:
    crt: ENC[AES256_GCM,data:Zss+lk0z34Cx9N/WK8AdEV3UBfE9fDHj5/fl3QSkku8hhxU0IoIxBjL6DJQSksnIsK6VnXAuB3iHk+dweMSZyJH4VlnkU/7uzsQZHTmoieV8CCIb/9qZ+QoPfzYStLzs61l661NokoG/vWKzV7N4SfGnLyhNjIwbFNBXY88AnQrZux0AYh7+pYndCEnd33RWRzpZtYWAF2w6m+LPS4tJWFJkP2pHdOBAoDDr8m4v99xGkM9kPrVDSlO3ICK727eNjXsTHEWA+zgNbmCqi7cSSRwi0GhnmMn6U69eY0z+NmBGAsA7dlWXqz2YE5zUAfibUmVpqsqYJQi2vPUxek2k9ytkIgX/LKQxxvAvEUNyUkOdPSbbZzUejaFA5bI/z+sMQKKA+hUC8pqzfNbuCrGGt3TjxdCATTht4oLvvqFoGYGmU3uXWJooor6e3QDx/nTvQG4WyS9V9VugTy5QIxp58GBG30yBwK6SU8hiwpuLDriTUTxA47dQwXXlah6XkeAPoKkgzYMW4V/SZ4JdIQ7T7J4VqdAYbCnGczu48+Gm9BwX47qya/5CTMbByc9DUDhJDtPWPfc7CqYwLhylYBC2lA8dbOubDpI7t2cd+02Py/sjgmZM6H1TrcMt2ryoy1/p7dDoAG8zbthd7xD9kWRYGctOyGS7zs0g2Z0ktRaalNpmJDyu1RNKDNbiVWDaCXjWieLtx63XtTNIRFJ4v4nLcZvM+T7CwJyPGtTZPX4XS/2YCL7GKG9HkJLkuLl8jjTQdQMB0R/7dcu1BHV/UgGyAEV6ohvsXdg26sBUlzOlxDCAvv3JmAzFA1IGGweENdhJhXHso/chKFSFJRbKLEvJGKOOfJPIy9eO45iUfHkeJ7ygCdKx07Gn/lithCMmtYoQfkJ8ZxM9yIRGRwf3C+s7fQsGsaINXgj6b80o3/l+kG81uM4PwvZdSQ==,iv:R8h7xygyD/u3nEgbhbVrh/3w5uTZMMG1053z29A59rk=,tag:G/xtYBzRT+ErMslbXyY4Rg==,type:str]
    key: ENC[AES256_GCM,data:DEMuuYMnJ8a4yKI7ZjzsWAqIjC2EAQrS9GHx8cv07cjS+G7c3v+Z8hKIk/Ws5WhF3tR/DIyOv2X1gPM1a2j1jwbRqH4IIpDpGbwvXLYmbnnlRZd31pRh0NlTd0dh49XdD54vYAbkdPXlUr0riRcyp/SkYFZgXeJMzDulo55wcgzRglWgk6u0yzS7qJrLAjm5dSWQmUEkZ8TWUkJG44TdcvbdsLlFv6pTO77KRITRHRdXEzYZsXMgWJyItD0+itCYZqVF715dZQDLpslQh/hv56G/CfT6YTSL1M9IegNnyqnaO1NLpuYB3uT80pHNglBJkB+e+DTZxrCVKp/3wUHPowYfdeceELD58oWH/Lx4zTQi74f+Q30Oz0ks8CdoPWk1BObxfOD3TNnbSEjNM5pqeA==,iv:yIvlvS1CLxWk2gBVNjYSBaNi6hfzXqz3W0G36BW2zPs=,tag:yUnBQDlu/jv8v9hLMkQVzw==,type:str]
  # The base64 encoded private key for service account token generation.
  serviceAccount:
    key: ENC[AES256_GCM,data:ZtqhDvY4QqZajfyNRoy2hBVdgvhxEjRPjQDEwxAWqzLWLZkrduqG9XNOXqnB2hDlo0Dn7pI0axZzIa7Rfa/Az1u7DU1jvAIKnz7NJaW14y4u8PdE+h+eEPvIhKXx+95Sygm3jCnjdTj+a2MSSixpjM9DLfx5CWHJVnHHd+YkEyjXqFVVtfQXBTaJZDxRpFORKLei/pHwRekMnWb8U6VMVIlG4AiG1o2zebJ9g6568kWq5rc2Ggw8UscK8J3PtnxidK1qKzglImH/uyeS2m2Ut9/rFV1A0PPE4HxyWZ5IJkcETr3Q0rrBh7Kz5BywL5y5y71uRXayRySLrFxTVagXzoeWoHc6o8mlAJUaxWtB+EV76ljFWHkcTb9OD0BbCc+rUx1dMTuUPDlxfk0AK2yaYA==,iv:8RatsnYVLKo1Ox+6wu/9BsLrWa1xlR3CacTFTXdV2XY=,tag:ThY4ovUIFlgNpTd7zzRmgQ==,type:str]
  # API server specific configuration options.
  apiServer:
    # The container image used in the API server manifest.
    image: registry.k8s.io/kube-apiserver:v1.28.1
    # Extra certificate subject alternative names for the API server's certificate.
    certSANs:
      - ENC[AES256_GCM,data:Ox5zZpQszAepCU3rMbbP7BXitR73,iv:GNCowPzJ2XAmzqG8neSYt/r9JNZjXiYYNodiHaosegQ=,tag:eQRRBsyTiEg0qU0TA+2g5Q==,type:str]
    # Disable PodSecurityPolicy in the API server and default manifests.
    disablePodSecurityPolicy: true
    # Configure the API server admission plugins.
    admissionControl:
      # Name is the name of the admission controller.
      - name: PodSecurity
        # Configuration is an embedded configuration object to be used as the plugin's
        configuration:
          apiVersion: pod-security.admission.config.k8s.io/v1alpha1
          defaults:
            audit: restricted
            audit-version: latest
            enforce: baseline
            enforce-version: latest
            warn: restricted
            warn-version: latest
          exemptions:
            namespaces:
              - kube-system
            runtimeClasses: []
            usernames: []
          kind: PodSecurityConfiguration
    # Configure the API server audit policy.
    auditPolicy:
      apiVersion: audit.k8s.io/v1
      kind: Policy
      rules:
        - level: Metadata
  # Controller manager server specific configuration options.
  controllerManager:
    # The container image used in the controller manager manifest.
    image: registry.k8s.io/kube-controller-manager:v1.28.1
  # Kube-proxy server-specific configuration options
  proxy:
    # Disable kube-proxy deployment on cluster bootstrap.
    disabled: true
    # The container image used in the kube-proxy manifest.
    image: registry.k8s.io/kube-proxy:v1.28.1
  # Scheduler server specific configuration options.
  scheduler:
    # The container image used in the scheduler manifest.
    image: registry.k8s.io/kube-scheduler:v1.28.1
  # Configures cluster member discovery.
  discovery:
    # Enable the cluster membership discovery feature.
    enabled: false
    # Configure registries used for cluster member discovery.
    registries:
      # Kubernetes registry uses Kubernetes API server to discover cluster members and stores additional information
      kubernetes:
        # Disable Kubernetes discovery registry.
        disabled: true
      # Service registry is using an external service to push and pull information about cluster members.
      service: {}
      # # External service endpoint.
      # endpoint: https://discovery.talos.dev/
  # Etcd specific configuration options.
  etcd:
    # The `ca` is the root certificate authority of the PKI.
    ca:
      crt: ENC[AES256_GCM,data:VZJCWXT6TNnhg8cMebZxVMWv38mU7Ayt4/iEiARZW7GpsCMkZY3uyyC1RJZ02yYz5oKkFShUubY0EEaTBi8Dmn+t2pM7CU7EIOoOdxv1Kc4lAjJNV450yjNqPoqHn7ohmvSSBVhJg3QvMFO5DKUQQzTMOylW5tUgojPxxNo4Semw+7rXm7B0yFnp4tqt4WZn98HewQLWKA5sizfgfhoCleMa9AnVWUrHOdAJA8n8nCMQN5dWLwyT0djkc7kR+ZOVUiNfPEzIT12gYV4YsAjgK+Cqen1eCKJ3CE0CM2Cnd8BSQX5xq/YuRomPWdJTqlBjXkHTckRd+hoBaU4LG1ATFQ+lKBzobrxo6mo33O7bshGyZMGe0iuPxhIVo6rN1lWPUPStUc2BdeFxWOzPBtN8QmMe8103oSur9vVuDrK85bCOHycW2qY8abQfnOyh4cZuRsqnyyKRH9YAaLJnwlG0L3482wVHXtRQkzft/P4nbbZb5PX5rV1GfpqWisq03hLIAum5f77uLyTGPI4QxC49OOroP16UQOu4j9Vtb+HUV3yn2xvEhrxfvdKWf3Mg6uNaW5j8XD32/MsW8V9XkFeW5jPaWHIJt/p6ueFarBjQ719lfxoFumY705v0mIZXwjCj5qqkAR60JyCh++olg3a6JYetEY1KfQaA29qTLgt9DkktqUHv1cQ+EGKudR2etDdZAqm+v1g7ak8CbowF8nNqTBmwKD4/iBuE1m71t0ay+/UV1sNEpsnO6dvcOKqxFSe5QCWRP8tCT3eUssJPpwI+nnBTN/McwDnxxfpN3ImzumBWgIA5CJDRrQs/OMVL+QHxw66MGPvwW3HMyTThdhfQvBcgUH8e2sP+5fmdJMtC6TT2Z3U6msvWoUA5R364ghvnri7f0HfawtoseZ/65A2Blxkc42ZfM/BOiE1P5pSkRCoKMBJlbrPxJayPDgelS6ruB/fren9ebWAlIpCFjMX8F7QdGRfcGo+z/+i/431MXW8y01r4erSK7zf/d1CIdAk2q5RcMA==,iv:ZMtCeKZWObukmmaztez4ic8NyRt+jzna4nI/y5holvI=,tag:/WhB3K30Zje95/wTNgjt3Q==,type:str]
      key: ENC[AES256_GCM,data:qpPZ7mxnS8uPsO5hLuop8tqced3a5eQ0Bt9RoHMkhWUYZab50/AbRQ0EoNVdkEt1S571GCbtUmgWRBqOIdmQnx57FSY92d7wKb4r61HynsKj8IIEvlwdf+WW2DFJcPdluxkx7Wc4IFAB+Xt4khf4SwoGE4sLIn2M+YgNEiejiViTkch2U++RSHekQCQTkxNUP1tU7pFi1YRqEy71iF6nEX29rWWI4WcpYo+G+I5WnZjvNETz/8TdxOkHH6dQ7/eo/MtYtCLLJehBhKSj9Ao+G38CC70IRYq9iWKnvQ2KYQaDOlJCMrv0aRPSMDJB5Qk+aqv49sWF8ukXZWF14CeAMZq1YxcPeR8fPMuW0NURcHLsvlYRcBLONtE4q6BkS24B6M6U8ODMX1IcyiFHdBsItg==,iv:OLLvjz+UYPbUEkT8BW7juiV2a4idzz5TaynMqMFCCGQ=,tag:+FNDB9RMkGua/PomuQYGNw==,type:str]
      # # The container image used to create the etcd service.
      # image: gcr.io/etcd-development/etcd:v3.5.9
      # # The `advertisedSubnets` field configures the networks to pick etcd advertised IP from.
      # advertisedSubnets:
      #     - 10.0.0.0/8
  # A list of urls that point to additional manifests.
  extraManifests: []
  #   - https://www.example.com/manifest1.yaml
  #   - https://www.example.com/manifest2.yaml
  # A list of inline Kubernetes manifests.
  inlineManifests: []
  #   - name: namespace-ci # Name of the manifest.
  #     contents: |- # Manifest contents as a string.
  #       apiVersion: v1
  #       kind: Namespace
  #       metadata:
  #           name: ci
  # Allows running workload on control-plane nodes.
  allowSchedulingOnControlPlanes: true
# # A key used for the [encryption of secret data at rest](https://kubernetes.io/docs/tasks/administer-cluster/encrypt-data/).
# # Decryption secret example (do not use in production!).
# aescbcEncryptionSecret: z01mye6j16bspJYtTB/5SFX8j7Ph4JXxM2Xuu4vsBPM=
# # Core DNS specific configuration options.
# coreDNS:
#     image: registry.k8s.io/coredns/coredns:v1.10.1 # The `image` field is an override to the default coredns image.
# # External cloud provider configuration.
# externalCloudProvider:
#     enabled: true # Enable external cloud provider.
#     # A list of urls that point to additional manifests for an external cloud provider.
#     manifests:
#         - https://raw.githubusercontent.com/kubernetes/cloud-provider-aws/v1.20.0-alpha.0/manifests/rbac.yaml
#         - https://raw.githubusercontent.com/kubernetes/cloud-provider-aws/v1.20.0-alpha.0/manifests/aws-cloud-controller-manager-daemonset.yaml
# # A map of key value pairs that will be added while fetching the extraManifests.
# extraManifestHeaders:
#     Token: "1234567"
#     X-ExtraInfo: info
# # Settings for admin kubeconfig generation.
# adminKubeconfig:
#     certLifetime: 1h0m0s # Admin kubeconfig certificate lifetime (default is 1 year).
sops:
  shamir_threshold: 2
  key_groups:
    - hc_vault: []
      age:
        - recipient: age1ms2d7n4yhaq0mdap4cfyaq2xtfutlachqapkjfr0z2qr7ghc2ckq000jhm
          enc: |
            -----BEGIN AGE ENCRYPTED FILE-----
            YWdlLWVuY3J5cHRpb24ub3JnL3YxCi0+IFgyNTUxOSBUTFVpbVZWRGNmUys1UkFx
            UkRVbWFTeGNKUTNPeVVHaXlrMzY5cU9NeFE0CjF6enRHaUMzMTZwck9WR3JKZkRm
            azZkeWlPTHF5cXNVU3FvVExGYlU3UUEKLS0tIE5LWlErOUpFc0JILzhxSDZ4RWk5
            dnoxeUZMM2V2cjIzalpTT2R3R1hXZlkKOO90gDhTJwuwMwdPt5obvslHjFsyigBC
            B8T6pthFMWKXvoihzmAQwGAnZG+tSUksNUALr6D2PhdTA3rWFcTSYFc=
            -----END AGE ENCRYPTED FILE-----
    - pgp:
        - created_at: "2023-09-16T01:43:55Z"
          enc: |
            -----BEGIN PGP MESSAGE-----

            hQIMAyQ1SH08BnVLARAAzl9nuoC/z/73VwQcxDuX8SDR4cboKCfvZpAlzMMEyR/E
            QUpFygbR0iQKa9IrQpMMqlwwplog5Y56yLFgvRe27bp4jBzcxYIwbgWikhKYST50
            KKaHGFSADQAUZKMQcE8lr6Ir7zxzgwXaIxF6eFgqJwANUOpRZLq876wuKQn2IPZK
            3/Oo9tXnYvp2B8mAoaog9W5u74HKDC4c9v5CFUEtHzB+48yMzBD+yO8KnSpZruwX
            8knN6VFiYWIBShGkPFGLzPfy1BiCs6p0/eet7s7V9ly6U95+Sb7Rh4WdALor1JFQ
            a6ZqM2mTK0i2lUJEwKtHMvu0TvDDF722Lr8Z9fiADpmHiCx075WfzWhulUGb22xX
            e1o1Eb2e3NEio0zVmF+73UKWYcwOBR8Wh8l8puBDk2Au1TvG5B2dNx/4i4H8v7AK
            2RAlLPQ1dMhHsfaFlGsLDcSclE0y5U7RyqekOeNoTCf0X49QjcVSipGSSnFa8ZDg
            TAnpDNgUHxw1wlnnoQdFMABLipHh29e8APcofD9GWvY4Vn82WHNB9XgGV2xJYTtx
            G4OECRNmNR1mtmVJDgfgFi5SbIk+Z+v9i3/CVMVb9xzazm+W5y+MdK92dU04/rO/
            V2/fgrma387c24BD++mSBxRHeaLYV3C89TgF7qH0yG62zuJNDaD+A3ZKN8HTfMLS
            XQFpc8SeRvnOiaACvE6LA772xVHSG7GBKdkCZSsl1MP6WVF/Tvi3ZeGsIDF5Hont
            9tnW8xpJz+Br8fLK1KXF3z+NAnr1vptZ8u8GA8Q7B7XzxwFqpYpXWLBw3iALhg==
            =UMAD
            -----END PGP MESSAGE-----
          fp: B3BB654B6CAAA312F49C37DF9CEFDEA122154047
      hc_vault: []
      age: []
  kms: []
  gcp_kms: []
  azure_kv: []
  hc_vault: []
  age: []
  lastmodified: "2023-09-16T01:43:55Z"
  mac: ENC[AES256_GCM,data:W0FHz/kjFGbdOHYGyqk5s33QTxXsDSpu9B09wxaTAg36x+FaXYUJvzFarrUJa494LayqHIlJrC5rNBmcorfF0uhbcuGT7AwmAITXsJN1nIBONIRJtc6se3ISpK02nehOg5LYY2rWjgCRMWU6DnKLeP5e2RbbXJZN3TIQeAv5gWw=,iv:OsTzGnKDrhnP3gYbe2QUEnvFe+5sIaj47j+L6GzNnjM=,tag:iq7MiqdJpKNXbr0JGRovQw==,type:str]
  pgp: []
  encrypted_regex: ^(crt|certSANs|dnsDomain|endpoint|secret|bootstraptoken|clusterName|hostname|secretboxEncryptionSecret|token|key|password|addresses|gateway|id)$
  version: 3.7.3
